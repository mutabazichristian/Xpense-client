{"ast":null,"code":"import axios from'axios';import Cookie from'js-cookie';var instance=axios.create({baseURL:'https://angry-bat-ring.cyclic.app/'// baseURL: 'http://localhost:8080'\n});instance.interceptors.response.use(function(response){// Any status code that lie within the range of 2xx cause this function to trigger\n// Do something with response data\nif(response.data.token&&response.data.token!==''){Cookie.set('auth',response.data.token,{expires:90000});response.data.token=undefined;delete response.data.token;}return response;},function(error){// Any status codes that falls outside the range of 2xx cause this function to trigger\n// Do something with response error\nreturn Promise.reject(error);});// instance.interceptors.request.use(function (request) {\n//   const token = Cookie.get('auth');\n//   if (token && token !== '') {\n//     request.body = {\n//       ...request.body,\n//       token : token\n//     }\n//   }\n//   return request;\n// }, function (error) {\n//   console.log('this is an interceptor error', error);\n// }\n// )\nexport default instance;","map":{"version":3,"names":["axios","Cookie","instance","create","baseURL","interceptors","response","use","data","token","set","expires","undefined","error","Promise","reject"],"sources":["/home/mutabazi/code/personal/playground/xpense/client/src/API/index.js"],"sourcesContent":["import axios from 'axios';\nimport Cookie from 'js-cookie';\n\nconst instance = axios.create({\n  baseURL: 'https://angry-bat-ring.cyclic.app/',\n  // baseURL: 'http://localhost:8080'\n})\n\ninstance.interceptors.response.use(function (response) {\n  // Any status code that lie within the range of 2xx cause this function to trigger\n  // Do something with response data\n  if (response.data.token && response.data.token !== '') {\n    Cookie.set('auth', response.data.token, { expires: 90000 });\n    response.data.token = undefined;\n    delete response.data.token;\n  }\n\n  return response;\n}, function (error) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  // Do something with response error\n  return Promise.reject(error);\n});\n\n// instance.interceptors.request.use(function (request) {\n//   const token = Cookie.get('auth');\n//   if (token && token !== '') {\n//     request.body = {\n//       ...request.body,\n//       token : token\n//     }\n//   }\n//   return request;\n// }, function (error) {\n//   console.log('this is an interceptor error', error);\n// }\n// )\n\n\nexport default instance;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,WAAW,CAE9B,GAAM,CAAAC,QAAQ,CAAGF,KAAK,CAACG,MAAM,CAAC,CAC5BC,OAAO,CAAE,oCACT;AACF,CAAC,CAAC,CAEFF,QAAQ,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG,CAAC,SAAUD,QAAQ,CAAE,CACrD;AACA;AACA,GAAIA,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAIH,QAAQ,CAACE,IAAI,CAACC,KAAK,GAAK,EAAE,CAAE,CACrDR,MAAM,CAACS,GAAG,CAAC,MAAM,CAAEJ,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAE,CAAEE,OAAO,CAAE,KAAM,CAAC,CAAC,CAC3DL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAGG,SAAS,CAC/B,MAAO,CAAAN,QAAQ,CAACE,IAAI,CAACC,KAAK,CAC5B,CAEA,MAAO,CAAAH,QAAQ,CACjB,CAAC,CAAE,SAAUO,KAAK,CAAE,CAClB;AACA;AACA,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CAAC,CAAC,CAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,cAAe,CAAAX,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}