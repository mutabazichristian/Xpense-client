{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import ExpensesViewer from\"../Components/ExpensesViewer\";import searchIcon from\"../Assets/icon-search.svg\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewExpenses(props){var expenseTitle=props.expenseTitle,expenseAmount=props.expenseAmount,expenseCategory=props.expenseCategory,expenseDate=props.expenseDate,expenseImage=props.expenseImage,setExpenseTitle=props.setExpenseTitle,setExpenseAmount=props.setExpenseAmount,setExpenseCategory=props.setExpenseCategory,setExpenseDate=props.setExpenseDate,setExpenseImage=props.setExpenseImage,expenseDescription=props.expenseDescription,setExpenseDescription=props.setExpenseDescription,expenses=props.expenses,setExpenses=props.setExpenses;var refreshExpenses=function refreshExpenses(){axios.get('http://localhost:8080/expenses').then(function(res){if(res.data!=[]){setExpenses(res.data);}else{setExpenses([]);}}).catch(function(err){return console.log(err);});};var deleteHandler=function deleteHandler(id){console.log('Id for deletion',id);axios.delete('http://localhost:8080/expenses',{id:id}).then(function(res){console.log(res);//refresh the expenses list\nrefreshExpenses();}).catch(function(err){return console.log(err);});};var updateHandler=function updateHandler(event,id,expense){event.preventDefault();console.log('update this id',id);console.log('new data to be sent',expense);};useEffect(refreshExpenses,[]);return/*#__PURE__*/_jsx(\"div\",{className:\"view-expense-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"view-expenses-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"view-expenses-title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"View Xpenses\"})}),/*#__PURE__*/_jsx(ExpensesViewer,{setExpenses:setExpenses,expenseTitle:expenseTitle,expenseAmount:expenseAmount,expenseCategory:expenseCategory,expenseDate:expenseDate,expenseImage:expenseImage,setExpenseAmount:setExpenseAmount,setExpenseTitle:setExpenseTitle,setExpenseCategory:setExpenseCategory,setExpenseDate:setExpenseDate,setExpenseImage:setExpenseImage,expenseDescription:expenseDescription,setExpenseDescription:setExpenseDescription,updateHandler:updateHandler,expenses:expenses,deleteHandler:deleteHandler}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"search here\"}),/*#__PURE__*/_jsx(\"img\",{src:searchIcon,alt:\"search button\",className:\"btn-search\"})]})]})});}export default ViewExpenses;","map":{"version":3,"names":["React","useState","useEffect","ExpensesViewer","searchIcon","axios","jsx","_jsx","jsxs","_jsxs","ViewExpenses","props","expenseTitle","expenseAmount","expenseCategory","expenseDate","expenseImage","setExpenseTitle","setExpenseAmount","setExpenseCategory","setExpenseDate","setExpenseImage","expenseDescription","setExpenseDescription","expenses","setExpenses","refreshExpenses","get","then","res","data","catch","err","console","log","deleteHandler","id","delete","updateHandler","event","expense","preventDefault","className","children","type","placeholder","src","alt"],"sources":["/home/mutabazi/code/personal/playground/xpense/client/src/Pages/ViewExpensePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ExpensesViewer from \"../Components/ExpensesViewer\";\nimport searchIcon from \"../Assets/icon-search.svg\"\nimport axios from \"axios\";\n\nfunction ViewExpenses(props) {\n    const { expenseTitle, expenseAmount, expenseCategory, expenseDate, expenseImage,\n        setExpenseTitle, setExpenseAmount, setExpenseCategory, setExpenseDate, setExpenseImage,\n        expenseDescription, setExpenseDescription, expenses, setExpenses } = props;\n\n    const refreshExpenses = () => {\n        axios.get('http://localhost:8080/expenses')\n            .then(res => {\n                if (res.data != []) {\n                    setExpenses(res.data)\n                } else {\n                    setExpenses([]);\n                }\n            })\n            .catch(err => console.log(err))\n\n    }\n    const deleteHandler = (id) => {\n        console.log('Id for deletion',id);\n        axios.delete('http://localhost:8080/expenses', { id })\n            .then(res => {\n                console.log(res);\n                //refresh the expenses list\n                refreshExpenses();\n            })\n            .catch(err => console.log(err))\n    }\n    const updateHandler = (event, id, expense) => {\n        event.preventDefault();\n        console.log('update this id', id);\n        console.log('new data to be sent', expense);\n    }\n    useEffect(refreshExpenses, [])\n    return (\n        <div className=\"view-expense-page\">\n            <div className=\"view-expenses-container\">\n                <div className=\"view-expenses-title\">\n                    <h1>View Xpenses</h1>\n                </div>\n                <ExpensesViewer setExpenses={setExpenses}\n                    expenseTitle={expenseTitle} expenseAmount={expenseAmount} expenseCategory={expenseCategory} expenseDate={expenseDate} expenseImage={expenseImage}\n                    setExpenseAmount={setExpenseAmount} setExpenseTitle={setExpenseTitle} setExpenseCategory={setExpenseCategory}\n                    setExpenseDate={setExpenseDate} setExpenseImage={setExpenseImage} expenseDescription={expenseDescription} setExpenseDescription={setExpenseDescription} updateHandler={updateHandler}\n                    expenses={expenses} deleteHandler={deleteHandler} />\n                <div className=\"search-bar\">\n                    <input type=\"text\" placeholder=\"search here\" />\n                    <img src={searchIcon} alt=\"search button\" className=\"btn-search\" />\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default ViewExpenses;    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}