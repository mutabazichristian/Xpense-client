{"ast":null,"code":"import axios from 'axios';\nimport Cookie from 'js-cookie';\nconst instance = axios.create({\n  baseURL: 'https://angry-bat-ring.cyclic.app/'\n});\ninstance.interceptors.response.use(function (response) {\n  // Any status code that lie within the range of 2xx cause this function to trigger\n  // Do something with response data\n  if (response.data.token && response.data.token !== '') {\n    Cookie.set('auth', response.data.token, {\n      expires: 90000\n    });\n    response.data.token = undefined;\n    delete response.data.token;\n  }\n  return response;\n}, function (error) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  // Do something with response error\n  return Promise.reject(error);\n});\n\n// instance.interceptors.request.use(function (request) {\n//   const token = Cookie.get('auth');\n//   if (token && token !== '') {\n//     request.body = {\n//       ...request.body,\n//       token : token\n//     }\n//   }\n//   return request;\n// }, function (error) {\n//   console.log('this is an interceptor error', error);\n// }\n// )\n\nexport default instance;","map":{"version":3,"names":["axios","Cookie","instance","create","baseURL","interceptors","response","use","data","token","set","expires","undefined","error","Promise","reject"],"sources":["/home/mutabazi/code/personal/playground/xpense/client/src/API/index.js"],"sourcesContent":["import axios from 'axios';\nimport Cookie from 'js-cookie';\n\nconst instance = axios.create({\n  baseURL: 'https://angry-bat-ring.cyclic.app/',\n})\n\ninstance.interceptors.response.use(function (response) {\n  // Any status code that lie within the range of 2xx cause this function to trigger\n  // Do something with response data\n  if (response.data.token && response.data.token !== '') {\n    Cookie.set('auth', response.data.token, { expires: 90000 });\n    response.data.token = undefined;\n    delete response.data.token;\n  }\n\n  return response;\n}, function (error) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  // Do something with response error\n  return Promise.reject(error);\n});\n\n// instance.interceptors.request.use(function (request) {\n//   const token = Cookie.get('auth');\n//   if (token && token !== '') {\n//     request.body = {\n//       ...request.body,\n//       token : token\n//     }\n//   }\n//   return request;\n// }, function (error) {\n//   console.log('this is an interceptor error', error);\n// }\n// )\n\n\nexport default instance;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,WAAW;AAE9B,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC5BC,OAAO,EAAE;AACX,CAAC,CAAC;AAEFF,QAAQ,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAUD,QAAQ,EAAE;EACrD;EACA;EACA,IAAIA,QAAQ,CAACE,IAAI,CAACC,KAAK,IAAIH,QAAQ,CAACE,IAAI,CAACC,KAAK,KAAK,EAAE,EAAE;IACrDR,MAAM,CAACS,GAAG,CAAC,MAAM,EAAEJ,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;MAAEE,OAAO,EAAE;IAAM,CAAC,CAAC;IAC3DL,QAAQ,CAACE,IAAI,CAACC,KAAK,GAAGG,SAAS;IAC/B,OAAON,QAAQ,CAACE,IAAI,CAACC,KAAK;EAC5B;EAEA,OAAOH,QAAQ;AACjB,CAAC,EAAE,UAAUO,KAAK,EAAE;EAClB;EACA;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,eAAeX,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}